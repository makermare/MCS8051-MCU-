C51 COMPILER V9.60.0.0   NEW_START04                                                       04/30/2022 00:44:35 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE NEW_START04
OBJECT MODULE PLACED IN .\Objects\new start04.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE new start04.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listin
                    -gs\new start04.lst) OBJECT(.\Objects\new start04.obj)

line level    source

   1          /***************************************
   2          *GB2312
   3          *作者：创客海
   4          *内容：蜂鸣器项目理论课-单片机音乐-孤勇者-录课前编写
   5          *实验板：新起点51单片机实验板
   6          *单片机型号：STC89C52RC
   7          ***************************************/
   8          
   9          #include <STC89C5xRC.H>
  10          #include <INTRINS.H>
  11          sbit FM = P2^3;
  12          sbit JDQ = P3^6;//继电器新版本的硬件从P3.7改动到了P3.6
  13          
  14          #define B6N 19
  15          #define B7N 21
  16          #define B1H 23
  17          #define B2H 24
  18          #define B3H 26
  19          #define B4H 28
  20          #define B5H 29
  21          #define B6H 31
  22          
  23          unsigned int code music_table[] = {130,139,147,156,165,175,185,196,208,220,233,247,//0-11
  24                                             262,277,294,311,329,349,370,392,415,440,466,494,//12-23
  25                                             523,554,587,622,659,698,740,784,830,880,932,988,0
  26                                            };//24-35
  27          //C  D-  D   E-  E   F   G-  G   A-   A  B-  B
  28          //unsigned int music[] = {12,14,16,17,19,21,23,0};
  29          
  30          unsigned int code music2[] = {B6N,B7N,B1H,B2H,B7N,B1H,B1H,36,
  31                                        //爱  你  孤  身  走 暗  巷
  32                                        B1H,B7N,B1H,B2H,B7N,B1H,B1H,36,
  33                                        //爱 你  不  跪  的  模  样
  34                                        B1H,B2H,B3H,B2H,B3H,B2H,B3H,36,
  35                                        //爱 你  对  峙  过  绝  望
  36                                        B3H,B2H,B3H,36,B5H,B5H,B3H,36,36,
  37                                        //不 肯  哭      一      场
  38                                        B6N,B7N,B1H,B2H,B7N,B1H,B1H,36,
  39                                        //爱 你  破  烂  的 衣  裳
  40                                        B1H,B7N,B1H,B2H,B7N,B1H,B1H,36,
  41                                        //却 敢  赌  命  运 的  枪
  42                                        B1H,B2H,B3H,B2H,B3H,B2H,B3H,36,
  43                                        //爱 你  和  我  那  么  像
  44                                        B3H,B2H,B3H,36,B5H,B5H,B3H,36,36,
  45                                        //缺 口  都     一      样
  46                                        B5H,B3H,B3H,36,36,B5H,B3H,36,36,
  47                                        //去 吗            配  吗
  48                                        B5H,B3H,B5H,B6H,B3H,B5H,36,
  49                                        //这 褴  褛  的  披  风
  50                                        B5H,B3H,B5H,B3H, 36,
  51                                        //战  马  斩 啊
  52                                        B5H,B3H,B5H,B6H,B3H,B5H,36,
  53                                        //以  最  卑  微  的  梦
  54                                        B5H,B5H,B3H,B2H,B2H,B2H,B1H,B3H,B3H,B2H,B2H,B2H,B1H,B1H,B6N,36,36,
C51 COMPILER V9.60.0.0   NEW_START04                                                       04/30/2022 00:44:35 PAGE 2   

  55                                        //掷 那  黑      夜  中  的  呜          咽  与  怒  吼
  56                                        B5H,B5H,B3H,B2H,B2H,B2H,B1H,B3H,B3H,B2H,B2H,B2H,B1H,B1H,B6N,36,36,
  57                                        //谁 说  站      在  光  里  的              才  算  英  雄
  58                                        0,
  59                                       };
  60          
  61          void Delay50uss(unsigned char us)
  62          {
  63   1          unsigned char i;
  64   1          while(us--)
  65   1          {
  66   2              i = 6;
  67   2              while (--i);
  68   2          }
  69   1      }
  70          
  71          
  72          void main()
  73          {
  74   1          unsigned int i,j,index;
  75   1          index=0;
  76   1          while(1)
  77   1          {
  78   2              j = music_table[music2[index]];
  79   2              if(j)
  80   2              {
  81   3                  i = j*3/5;
  82   3                  JDQ =!JDQ;
  83   3                  while(i--)
  84   3                  {
  85   4                      FM = !FM;//1.08us
  86   4                      Delay50uss(10000/j);
  87   4                      //延时
  88   4                  }
  89   3              }
  90   2              else
  91   2              {
  92   3                  j = 640;
  93   3                  i = j*3/5;
  94   3                  JDQ =!JDQ;
  95   3                  while(i--)
  96   3                  {
  97   4                      Delay50uss(10000/j);
  98   4                      //延时
  99   4                  }
 100   3              }
 101   2              index++;
 102   2              if(music2[index]==0)
 103   2                  index = 0;
 104   2          }
 105   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    210    ----
   CONSTANT SIZE    =    332    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       4
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.

C51 COMPILER V9.60.0.0   NEW_START04                                                       04/30/2022 00:44:35 PAGE 3   


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
