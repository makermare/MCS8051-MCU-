C51 COMPILER V9.60.0.0   NEW_START04                                                       04/19/2022 16:27:18 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE NEW_START04
OBJECT MODULE PLACED IN .\Objects\new start04.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE new start04.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listin
                    -gs\new start04.lst) OBJECT(.\Objects\new start04.obj)

line level    source

   1          /***************************************
   2          *GB2312
   3          *作者：创客海
   4          *内容：蜂鸣器项目理论课-蜂鸣器发出精准音阶do、re、mi
   5          *实验板：新起点51单片机实验板
   6          *单片机型号：STC89C52RC
   7          ***************************************/
   8          
   9          #include <STC89C5xRC.H>//引用了头文件，如果没有可用reg51.h代替
  10          #include <INTRINS.H>//循环左移循环右移必须的函数
  11          
  12          sbit FM = P2 ^ 3;//位声明了P2.3引脚为蜂鸣器
  13          
  14          /*------------------------------------------------
  15           延时函数，精确延时，用STCisp生成的精准延时
  16          ------------------------------------------------*/
  17          void Delay1911us() //@11.0592MHz
  18          {
  19   1          unsigned char i, j;
  20   1      
  21   1          _nop_();
  22   1          i = 4;
  23   1          j = 105;
  24   1          do
  25   1          {
  26   2              while (--j);
  27   2          }
  28   1          while (--i);
  29   1      }
  30          void Delay1702us() //@11.0592MHz
  31          {
  32   1          unsigned char i, j;
  33   1      
  34   1          i = 4;
  35   1          j = 9;
  36   1          do
  37   1          {
  38   2              while (--j);
  39   2          }
  40   1          while (--i);
  41   1      }
  42          void Delay1516us() //@11.0592MHz
  43          {
  44   1          unsigned char i, j;
  45   1      
  46   1          _nop_();
  47   1          i = 3;
  48   1          j = 180;
  49   1          do
  50   1          {
  51   2              while (--j);
  52   2          }
  53   1          while (--i);
  54   1      }
C51 COMPILER V9.60.0.0   NEW_START04                                                       04/19/2022 16:27:18 PAGE 2   

  55          
  56          void main()
  57          {
  58   1          int i = 50000;
  59   1          while (1)
  60   1          {
  61   2              i = 500;
  62   2              while (i--)//执行500次发出音阶do
  63   2              {
  64   3                  FM = 1; //高电平不发声音
  65   3                  Delay1911us();
  66   3                  FM = 0; //低电平发声音
  67   3                  Delay1911us();
  68   3              }
  69   2              i = 540;
  70   2              while (i--)//执行540次发出音阶re
  71   2              {
  72   3                  FM = 1; //高电平不发声音
  73   3                  Delay1702us();
  74   3                  FM = 0; //低电平发声音
  75   3                  Delay1702us();
  76   3              }
  77   2              i = 590;
  78   2              while (i--)//执行540次发出音阶mi
  79   2              {
  80   3                  FM = 1; //高电平不发声音
  81   3                  Delay1516us();
  82   3                  FM = 0; //低电平发声音
  83   3                  Delay1516us();
  84   3              }
  85   2          }
  86   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    107    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
