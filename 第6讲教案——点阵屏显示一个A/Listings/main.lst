C51 COMPILER V9.60.0.0   MAIN                                                              04/30/2022 06:50:25 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          /****************************************************************
   2           * 实验板：  创客海51单片机实验板，以STC89C52单片机为核心，适用于51系列单片
             -
   3           * 源代码：  源码经过精心调试，逐行注释，倾心录制高品质视频教程，制作PPT
             -档教程
   4           * 温馨提示：需要开源例程源码，请到创客海技术论坛学习、讨论、下载！
   5           * 淘宝店铺：创客海社区一号店/二号店，希望您支持，感谢您的惠顾！
   6           * 程序目的：学习点阵屏显示应用,学习数组，
   7           * 函数功能: 显示一个A，共阴极数码管
   8          *******************************************************************************/
   9          #include "NewStartC51.h"
  10          #include "INTRINS.h"
  11          /*******************************************************************************
  12           * 延时子函数 : Delay1ms
  13           * 函数功能  : 延时1ms
  14           *******************************************************************************/
  15          void Delay1ms(unsigned int Xms) //@11.0592MHz
  16          {
  17   1          while (Xms--)
  18   1          {
  19   2              unsigned char i, j;
  20   2              ;
  21   2              i = 2;
  22   2              j = 199;
  23   2              do
  24   2              {
  25   3                  while (--j)
  26   3                      ;
  27   3              }
  28   2              while (--i);
  29   2          }
  30   1      }
  31          
  32          /*******************************************************************************
  33          * 点阵屏子程序  : XDisplay
  34          * 函数功能      : 列数据DisData形参，第几列Sit形参
  35          *                 把每一列要显示的数据，装在数组里，整幅画面共有8列，就是8个
             -据
  36                                            从左边第一列开始显示，向右扫描
  37          *******************************************************************************/
  38          void XDisplay(unsigned char DisData, Sit)
  39          {
  40   1          P0 = 0xff; //送显示位置，列码Sit，让数据显示在第几列
  41   1          CS88 = 1;
  42   1          CS88 = 0; //锁住位码到UB（74HC573）内
  43   1      
  44   1          P0 = DisData; //送其中1列要显示的数据,
  45   1          DUAN = 1;
  46   1          DUAN = 0; //锁住数据到UA（74HC573）内
  47   1      
  48   1          P0 = ~(0x80 >> Sit); //送显示位置，列码Sit，让数据显示在第几列
  49   1          CS88 = 1;
  50   1          CS88 = 0; //锁住位码到UB（74HC573）内
  51   1      }
C51 COMPILER V9.60.0.0   MAIN                                                              04/30/2022 06:50:25 PAGE 2   

  52          
  53          /*******************************************************************************
  54           * 主程序    : 8*8点阵屏显示子程序
  55           * 函数功能 : 动态扫描点阵屏显示，调用点阵屏列显示子程序，2个形参
  56           *             从左边第一列开始显示，向右扫描
  57           *             显示的字模数据，用字模生成软件，文件夹里给了
  58           *             数组的数据类型 idata xdata code 定义方法
  59           *******************************************************************************/
  60          void main()
  61          {
  62   1          newstart_init();
  63   1          while (1)
  64   1          {
  65   2              unsigned char Num[]= {0x00,0x3E,0x48,0x88,0x48,0x3E,0x00,0x00}; //显示“A”，要8个数据
  66   2              unsigned char i;
  67   2      
  68   2              for (i = 0; i < 8; i++)
  69   2              {
  70   3                  XDisplay(Num[i], i); //显示“A”的第一列数据取出来
  71   3                  Delay1ms(0);                 //延时0毫秒后，去显示下一列，不停的扫描
  72   3              }
  73   2          }
  74   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    118    ----
   CONSTANT SIZE    =      8    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      11
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
